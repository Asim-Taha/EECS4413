{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/hulyayasar/Desktop/EECS4413-main/Client/app/auth/actions.ts"],"sourcesContent":["'use server';\n\nimport { z } from 'zod';\nimport { createSession, deleteSession } from './session';\n\nconst BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL\n\n const loginSchema = z.object({\n  email: z.string().email({message:\"Invalid email address\"}).trim(),\n  password: z.string().min(6, {message: \"Password must be at least 8 characters\"}).trim(),\n })\n\n const signUpSchema = z.object({\n  name: z.string().min(2, {message: \"Name must be at least 2 characters long.\"}).trim(),\n  email: z.string().email({message:\"Please enter a valid email\"}).trim(),\n  password: z.string().min(6, {message: \"Password must be at least 8 characters\"}).trim(),\n })\n\n//register user \n\n export async function signUp(prevState:any, formData: FormData){\n  //validate form fields\n  const result = signUpSchema.safeParse({\n    name: formData.get(\"name\"),\n    email: formData.get(\"email\"),\n    password: formData.get('password')\n  })\n\n  if(!result.success){\n    return {\n      errors: result.error.flatten().fieldErrors\n    }\n  }\n//create user \n  const {name,email,password} = result.data\n  let session : string; \n  try{\n    const response = await fetch(`${BACKEND_URL}/auth/register`,{\n      method:'POST',\n      credentials: 'include',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({name,email,password})\n    })\n    const data  = await response.json()\n    if(!response.ok){\n      return {\n        message: data.message\n      }\n    }\n    session = data.data.accessToken;\n  }catch(error){\n     return {\n      message: (error as Error).message\n      }\n    }\n//create session \n  await createSession(session)\n\n }\n\n// sign in user\n\n export async function logIn(prevState:any, formData: FormData) {\n  //validate form fields\n  const result = loginSchema.safeParse({\n    email: formData.get(\"email\"),\n    password: formData.get('password')\n  })\n\n  if(!result.success){\n    return {\n      errors: result.error.flatten().fieldErrors\n    }\n  }\n//login user  \n  const {email,password} = result.data\n  let session : string; \n  try{\n    const response = await fetch(`${BACKEND_URL}/auth/login`,{\n      method:'POST',\n      credentials: 'include',\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email,password})\n    })\n    const data  = await response.json()\n    if(!response.ok){\n      return {\n        message: data.message\n      }\n    }\n    session = data.data.accessToken;\n  }catch(error){\n     return {\n        message: (error as Error).message\n      }\n    }\n//create session \n  await createSession(session)\n }\n\n//Sign out user \nexport async function logOut() {\n await deleteSession();\n}\n\n export async function UploadImage(prevState:String | undefined, formData: FormData) {\n  return undefined;\n }\n"],"names":[],"mappings":";;;;;;;;IAoBuB;IA4CA;IAyCD;IAIC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/hulyayasar/Desktop/EECS4413-main/Client/app/componets/dashboard/nav-links.tsx"],"sourcesContent":["'use client';\n\nimport {\n  ChartPieIcon,\n  Cog8ToothIcon,\n  CurrencyDollarIcon,\n  CalculatorIcon \n} from \"@heroicons/react/24/solid\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport clsx from 'clsx';\n\nconst links = [\n  { name: \"Home\", href: \"/dashboard\", icon: ChartPieIcon },\n  { name: \"Catalogue\", href: \"/dashboard/Catalogue\", icon: CurrencyDollarIcon },\n  { name: \"Cart\", href: \"/dashboard/cart\", icon: Cog8ToothIcon },\n  { name: \"Loan Calculator\", href: \"/loan\", icon: CalculatorIcon }, \n];\n\nexport default function NavLinks() {\n  const pathname = usePathname();\n\n  return (\n    <>\n      {links.map((link) => {\n        const LinkIcon = link.icon;\n        return (\n          <Link\n            key={link.name}\n            href={link.href}\n            className={clsx(\n              \"flex py-2.5 px-4 hover:bg-primary rounded-xl space-x-3\",\n              {\n                \"bg-primary text-white\": pathname === link.href,\n              }\n            )}\n          >\n            <LinkIcon className=\"w-8\" />\n            <p className=\"text-[18px]\">{link.name}</p>\n          </Link>\n        );\n      })}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AASA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAFA;;;;;;AAaA,MAAM,QAAQ;IACZ;QAAE,MAAM;QAAQ,MAAM;QAAc,MAAM,qNAAA,CAAA,eAAY;IAAC;IACvD;QAAE,MAAM;QAAa,MAAM;QAAwB,MAAM,iOAAA,CAAA,qBAAkB;IAAC;IAC5E;QAAE,MAAM;QAAQ,MAAM;QAAmB,MAAM,uNAAA,CAAA,gBAAa;IAAC;IAC7D;QAAE,MAAM;QAAmB,MAAM;QAAS,MAAM,yNAAA,CAAA,iBAAc;IAAC;CAChE;AAEc,SAAS;IACtB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,qBACE;kBACG,MAAM,GAAG,CAAC,CAAC;YACV,MAAM,WAAW,KAAK,IAAI;YAC1B,qBACE,8OAAC,4JAAA,CAAA,UAAI;gBAEH,MAAM,KAAK,IAAI;gBACf,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAI,AAAD,EACZ,0DACA;oBACE,yBAAyB,aAAa,KAAK,IAAI;gBACjD;;kCAGF,8OAAC;wBAAS,WAAU;;;;;;kCACpB,8OAAC;wBAAE,WAAU;kCAAe,KAAK,IAAI;;;;;;;eAVhC,KAAK,IAAI;;;;;QAapB;;AAGN"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/hulyayasar/Desktop/EECS4413-main/Client/app/componets/dashboard/sidenav.tsx"],"sourcesContent":["import { logOut } from \"@/app/auth/actions\";\nimport NavLinks from \"@/app/componets/dashboard/nav-links\";\nimport { PowerIcon } from \"@heroicons/react/24/outline\";\n\nexport default function SideNav() {\n  return (\n    <div className=\"bg-white text-logo w-80 fixed top-16 left-0 h-full py-7 px-2 space-y-10 z-10 md:w-80 md:sticky\">\n      <div className=\"md:px-7 pt-3 space-y-5\">\n        <NavLinks />\n        <div className=\"hidden h-auto w-full grow rounded-md bg-gray-50 md:block\"></div>\n        <div className=\"py-2.5 px-4 hover:bg-primary rounded-xl\">\n        <form action={logOut}>\n            <button className=\"flex items-center space-x-3 text-gray-800 hover:text-blue-600 transition\">\n              <PowerIcon className=\"w-8\" />\n              <div className=\"hidden md:block text-[18px]\">Sign Out</div>\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,8IAAA,CAAA,UAAQ;;;;;8BACT,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;8BACf,cAAA,8OAAC;wBAAK,QAAQ,sHAAA,CAAA,SAAM;kCAChB,cAAA,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC,iNAAA,CAAA,YAAS;oCAAC,WAAU;;;;;;8CACrB,8OAAC;oCAAI,WAAU;8CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO3D"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/hulyayasar/Desktop/EECS4413-main/Client/app/componets/dashboard/topnav.tsx"],"sourcesContent":["'use client';\n\nimport { useContext } from \"react\";\nimport Link from \"next/link\";\n\nexport default function TopNav({ name, email, profilePic }: { name: string, email: string, profilePic: string }) {\n    return (\n        <nav className=\"bg-white border-gray-200 dark:white fixed w-full z-20 top-0 left-0 border-w border-gray-200 dark:border-gray-600\">\n            <div className=\"flex flex-wrap items-center mx-auto p-4 w-full\">\n         \n                <div className=\"mr-auto\">\n                </div>\n                <div className=\"flex items-center gap-2 mr-10\">\n                    <Link href={'dashboard/profile'} className=\"flex gap-2 items-center\">\n                        <span className=\"text-black text-md\">Welcome, {name}!</span>\n                    </Link>\n                </div>\n            </div>\n        </nav>\n    );\n}\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKe,SAAS,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAuD;IAC3G,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;;;;;8BAEf,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM;wBAAqB,WAAU;kCACvC,cAAA,8OAAC;4BAAK,WAAU;;gCAAqB;gCAAU;gCAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5E"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/hulyayasar/Desktop/EECS4413-main/Client/app/loan/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport SideNav from '@/app/componets/dashboard/sidenav';\nimport TopNav from '@/app/componets/dashboard/topnav';\n\nexport default function LoanCalculatorPage() {\n  const [formData, setFormData] = useState({\n    vehiclePrice: '',\n    downPayment: '',\n    interestRate: '',\n    loanDurationMonths: ''\n  });\n\n  const [result, setResult] = useState<any>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    try {\n      const res = await fetch('http://localhost:8080/api/loan/calculate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          vehiclePrice: parseFloat(formData.vehiclePrice),\n          downPayment: parseFloat(formData.downPayment),\n          interestRate: parseFloat(formData.interestRate),\n          loanDurationMonths: parseInt(formData.loanDurationMonths)\n        })\n      });\n\n      if (!res.ok) throw new Error('Loan calculation failed');\n\n      const data = await res.json();\n      setResult(data);\n    } catch (err) {\n      setError('Something went wrong. Please check your inputs.');\n    }\n  };\n\n  return (\n    <div className=\"dashboard-layout\">\n      <SideNav />\n      <div className=\"main-content flex-1 p-4\">\n        <TopNav\n          name=\"John Doe\"\n          email=\"john@example.com\"\n          profilePic=\"/avatar.jpg\"\n        />\n\n        <div className=\"flex justify-center\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\">\n            <h2 className=\"text-2xl font-bold mb-4 text-center\">\n              Loan Calculator\n            </h2>\n\n            {result && (\n              <div className=\"mb-4 bg-gray-100 p-4 rounded text-center\">\n                <p>\n                  <strong>Monthly Payment:</strong> ${result.monthlyPayment}\n                </p>\n                <p>\n                  <strong>Loan Amount:</strong> ${result.loanAmount}\n                </p>\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <input\n                type=\"number\"\n                name=\"vehiclePrice\"\n                placeholder=\"Vehicle Price ($)\"\n                value={formData.vehiclePrice}\n                onChange={handleChange}\n                required\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                name=\"downPayment\"\n                placeholder=\"Down Payment ($)\"\n                value={formData.downPayment}\n                onChange={handleChange}\n                required\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                name=\"interestRate\"\n                placeholder=\"Interest Rate (%)\"\n                value={formData.interestRate}\n                onChange={handleChange}\n                required\n                className=\"w-full p-2 border rounded\"\n              />\n              <input\n                type=\"number\"\n                name=\"loanDurationMonths\"\n                placeholder=\"Loan Duration (months)\"\n                value={formData.loanDurationMonths}\n                onChange={handleChange}\n                required\n                className=\"w-full p-2 border rounded\"\n              />\n              <button\n                type=\"submit\"\n                className=\"w-full bg-red-600 text-white font-semibold px-4 py-2 rounded hover:bg-red-700 transition\"\n              >\n                Calculate\n              </button>\n\n            </form>\n\n            {error && (\n              <p className=\"mt-4 text-red-600 text-center\">{error}</p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,cAAc;QACd,aAAa;QACb,cAAc;QACd,oBAAoB;IACtB;IAEA,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAC1C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,eAAe,CAAC;QACpB,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAC7D;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,4CAA4C;gBAClE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,cAAc,WAAW,SAAS,YAAY;oBAC9C,aAAa,WAAW,SAAS,WAAW;oBAC5C,cAAc,WAAW,SAAS,YAAY;oBAC9C,oBAAoB,SAAS,SAAS,kBAAkB;gBAC1D;YACF;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,UAAU;QACZ,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yIAAA,CAAA,UAAO;;;;;0BACR,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,wIAAA,CAAA,UAAM;wBACL,MAAK;wBACL,OAAM;wBACN,YAAW;;;;;;kCAGb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;gCAInD,wBACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;8DAAO;;;;;;gDAAyB;gDAAG,OAAO,cAAc;;;;;;;sDAE3D,8OAAC;;8DACC,8OAAC;8DAAO;;;;;;gDAAqB;gDAAG,OAAO,UAAU;;;;;;;;;;;;;8CAKvD,8OAAC;oCAAK,UAAU;oCAAc,WAAU;;sDACtC,8OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,aAAY;4CACZ,OAAO,SAAS,YAAY;4CAC5B,UAAU;4CACV,QAAQ;4CACR,WAAU;;;;;;sDAEZ,8OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,aAAY;4CACZ,OAAO,SAAS,WAAW;4CAC3B,UAAU;4CACV,QAAQ;4CACR,WAAU;;;;;;sDAEZ,8OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,aAAY;4CACZ,OAAO,SAAS,YAAY;4CAC5B,UAAU;4CACV,QAAQ;4CACR,WAAU;;;;;;sDAEZ,8OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,aAAY;4CACZ,OAAO,SAAS,kBAAkB;4CAClC,UAAU;4CACV,QAAQ;4CACR,WAAU;;;;;;sDAEZ,8OAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;gCAMF,uBACC,8OAAC;oCAAE,WAAU;8CAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5D"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}